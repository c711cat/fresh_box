"use strict";(self["webpackChunkfresh_box"]=self["webpackChunkfresh_box"]||[]).push([[791],{3791:function(e,t,n){n.r(t),n.d(t,{default:function(){return Cr}});var r={};n.r(r),n.d(r,{all:function(){return $r},alpha:function(){return In},alpha_dash:function(){return Mn},alpha_num:function(){return Zn},alpha_spaces:function(){return Rn},between:function(){return Nn},confirmed:function(){return Pn},digits:function(){return Tn},dimensions:function(){return qn},email:function(){return Kn},ext:function(){return Xn},image:function(){return Yn},integer:function(){return Qn},is:function(){return Jn},is_not:function(){return Gn},length:function(){return Hn},max:function(){return er},max_value:function(){return tr},mimes:function(){return ir},min:function(){return ar},min_value:function(){return lr},not_one_of:function(){return sr},numeric:function(){return cr},one_of:function(){return or},regex:function(){return vr},required:function(){return mr},size:function(){return gr},toTypedSchema:function(){return Ar},url:function(){return yr}});var i=n(6768),a=n(4232),l=n(5130);const o=e=>((0,i.Qi)("data-v-15390c4c"),e=e(),(0,i.jt)(),e),s={key:1},u={key:0,class:"emptyContainer d-flex flex-column align-items-center justify-content-center col-10 mx-auto text-center"},d=o((()=>(0,i.Lk)("h3",{class:"mb-4"},"購物車空了",-1))),c=o((()=>(0,i.Lk)("button",{type:"button",class:"btn btn-outline-primary"},"繼續逛逛",-1))),v={key:1,class:"p-3 cartWrap col-sm-11 col-md-9 col-lg-10 mx-auto d-flex flex-wrap bg-light rounded"},f={class:"col-12 p-4"},p={class:"col-12 col-lg-6 my-3 px-4"},h={class:"col-12 d-flex flex-wrap justify-content-between align-items-center mb-2 pe-3"},m=o((()=>(0,i.Lk)("h3",{class:"m-0"},"購買清單",-1))),g={class:"col-12"},y=["onClick"],b=["srcset"],A={class:"col ps-3 d-flex flex-column justify-content-between"},O={class:"d-flex justify-content-between col-12"},$={class:"text-secondary py-1"},k={class:"d-flex flex-wrap justify-content-between"},V={class:"d-flex col-7 col-sm-6"},x=["onClick","disabled"],j=o((()=>(0,i.Lk)("i",{class:"bi bi-dash-lg"},null,-1))),_=[j],E=["onChange","disabled","onUpdate:modelValue"],w=["onClick","disabled"],C=o((()=>(0,i.Lk)("i",{class:"bi bi-plus-lg"},null,-1))),F=[C],S={class:"col-auto mt-1 fw-bolder text-end ms-auto"},B={class:"d-flex space flex-wrap col align-items-center pe-3"},L={class:"d-flex flex-wrap col-12 align-items-center"},I=o((()=>(0,i.Lk)("strong",{class:"col-4"},"小計",-1))),M={class:"text-end col-8"},Z={class:"d-flex align-items-center col-12 flex-wrap"},R={key:0,class:"spinner-border text-light spinner-grow-sm",role:"status"},W=o((()=>(0,i.Lk)("span",{class:"visually-hidden"},"Loading...",-1))),N=[W],P={key:1,class:"m-0 text-nowrap"},T={key:0,class:"d-flex align-items-center col-12"},U=o((()=>(0,i.Lk)("div",{class:"col-4"},"優惠碼折抵",-1))),D={class:"text-end col-8"},q={key:1,class:"d-flex align-items-center col-12 flex-wrap"},z=o((()=>(0,i.Lk)("div",{class:"col-4"},"折抵後小計",-1))),K={class:"text-end col-8"},X={class:"d-flex col-12 flex-wrap"},Y=o((()=>(0,i.Lk)("div",{class:"col-4"},"冷藏宅配",-1))),Q={class:"text-end col-8"},J=o((()=>(0,i.Lk)("div",{class:"infoText col-12 text-primary d-flex"},[(0,i.Lk)("i",{class:"bi bi-info-circle me-1"}),(0,i.Lk)("p",{class:"mb-0"},"滿 NT$ 1,000 免運")],-1))),G={class:"d-flex align-items-center col-12 flex-wrap"},H=o((()=>(0,i.Lk)("strong",{class:"col-4"},"付款金額",-1))),ee={class:"text-primary text-end col-8"},te={class:"col-12 col-lg-6 my-3 px-4"};function ne(e,t,n,r,o,j){const C=(0,i.g2)("LoadingView"),W=(0,i.g2)("router-link"),ne=(0,i.g2)("router-view"),re=(0,i.g2)("v-select"),ie=(0,i.g2)("RecipientForm"),ae=(0,i.g2)("delModal");return(0,i.uX)(),(0,i.CE)(i.FK,null,[o.isLoading?((0,i.uX)(),(0,i.Wv)(C,{key:0})):((0,i.uX)(),(0,i.CE)("div",s,[o.carts.length?((0,i.uX)(),(0,i.CE)("main",v,[(0,i.Lk)("div",f,[(0,i.bF)(ne)]),(0,i.Lk)("div",p,[(0,i.Lk)("header",h,[m,(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>j.openDelModal&&j.openDelModal(...e)),class:"btn btn-outline-danger",type:"button"}," 清空購物車 ")]),(0,i.Lk)("div",g,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.carts,(t=>((0,i.uX)(),(0,i.CE)("section",{key:t.id,class:"d-flex align-items-center mb-3 pe-3 position-relative bg-white"},[(0,i.Lk)("i",{onClick:e=>j.delItem(t),class:"bi bi-x-lg px-3 py-2 position-absolute top-0 end-0"},null,8,y),(0,i.bF)(W,{to:`/product/${t.product.id}`},{default:(0,i.k6)((()=>[o.currentWidth>=250?((0,i.uX)(),(0,i.CE)("img",{key:0,srcset:`${t.product.imageUrl}&w=300`,alt:"product_img"},null,8,b)):(0,i.Q3)("",!0)])),_:2},1032,["to"]),(0,i.Lk)("div",A,[(0,i.Lk)("div",O,[(0,i.bF)(W,{to:`/product/${t.product.id}`,class:"productTitle text-decoration-none fw-bolder lh-1"},{default:(0,i.k6)((()=>[(0,i.eW)((0,a.v_)(t.product.title),1)])),_:2},1032,["to"])]),(0,i.Lk)("div",$," NT$ "+(0,a.v_)(e.$filters.currency(j.showPrice(t))),1),(0,i.Lk)("div",k,[(0,i.Lk)("div",V,[(0,i.Lk)("button",{onClick:e=>j.delOneQty(t),disabled:t.id===o.status.delLoadingItem,type:"button",class:"btn btn-primary btn-sm rounded-0 rounded-start"},_,8,x),(0,i.bo)((0,i.Lk)("input",{onChange:e=>j.updateQtyOfInput(t),disabled:t.id===o.status.updateLoadingItem,"onUpdate:modelValue":e=>t.qty=e,type:"number",class:"form-control form-control-sm text-center rounded-0 border-primary"},null,40,E),[[l.Jo,t.qty]]),(0,i.Lk)("button",{onClick:e=>j.addOneToCart(t),disabled:t.id===o.status.addLoadingItem,type:"button",class:"btn btn-primary btn-sm rounded-0 rounded-end"},F,8,w)]),(0,i.Lk)("div",S," NT$ "+(0,a.v_)(e.$filters.currency(t.total)),1)])])])))),128)),(0,i.Lk)("section",B,[(0,i.Lk)("div",L,[I,(0,i.Lk)("strong",M," NT$ "+(0,a.v_)(e.$filters.currency(j.subtotal)),1)]),(0,i.Lk)("div",Z,[(0,i.bF)(re,{class:"selectStyle col flex-fill col-sm-9 text-secondary",label:"Select",options:o.couponOption,modelValue:o.couponCode,"onUpdate:modelValue":t[1]||(t[1]=e=>o.couponCode=e),disabled:o.used_coupon,placeholder:"套用優惠碼"},null,8,["options","modelValue","disabled"]),(0,i.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>j.useCoupon&&j.useCoupon(...e)),class:"btn btn-primary btnBody border border-primary rounded-0 rounded-end-2 py-0 col-4 col-sm",type:"button"},[o.status.submit?((0,i.uX)(),(0,i.CE)("div",R,N)):((0,i.uX)(),(0,i.CE)("p",P,"套用"))])]),o.used_coupon?((0,i.uX)(),(0,i.CE)("div",T,[U,(0,i.Lk)("div",D," - NT$ "+(0,a.v_)(e.$filters.currency(j.discount)),1)])):(0,i.Q3)("",!0),o.used_coupon?((0,i.uX)(),(0,i.CE)("div",q,[z,(0,i.Lk)("div",K," NT$ "+(0,a.v_)(e.$filters.currency(j.afterDiscount)),1)])):(0,i.Q3)("",!0),(0,i.Lk)("div",X,[Y,(0,i.Lk)("div",Q,"NT$ "+(0,a.v_)(o.shippingFee),1),J]),(0,i.Lk)("div",G,[H,(0,i.Lk)("strong",ee,"NT$ "+(0,a.v_)(e.$filters.currency(j.paymentAmount)),1)])])])]),(0,i.Lk)("section",te,[(0,i.bF)(ie,{class:"h-100"})])])):((0,i.uX)(),(0,i.CE)("section",u,[d,(0,i.bF)(W,{to:"/user-products"},{default:(0,i.k6)((()=>[c])),_:1})]))])),(0,i.bF)(ae,{ref:"delModal",allCartItems:o.allCartItems,onDelAllItemsOfCart:j.cleanCart},null,8,["allCartItems","onDelAllItemsOfCart"])],64)}const re={class:"d-flex flex-column gap-3 mb-3"},ie=(0,i.Lk)("h3",{class:"my-0"},"收件人資訊",-1),ae=(0,i.Lk)("div",{class:"d-inline text-danger"},"＊",-1),le=(0,i.Lk)("label",{class:"form-label",for:"name"},"收件人姓名",-1),oe=(0,i.Lk)("div",{class:"d-inline text-danger"},"＊",-1),se=(0,i.Lk)("label",{class:"form-label",for:"email"},"Email",-1),ue=(0,i.Lk)("div",{class:"d-inline text-danger"},"＊",-1),de=(0,i.Lk)("label",{class:"form-label",for:"tel"},"電話",-1),ce=(0,i.Lk)("div",{class:"d-inline text-danger"},"＊",-1),ve=(0,i.Lk)("label",{class:"form-label",for:"address"},"收件地址",-1),fe=(0,i.Lk)("label",{class:"form-label",for:"message"},"備註",-1),pe=(0,i.Lk)("div",{class:"text-end"},[(0,i.Lk)("button",{class:"btn btn-primary col-12 col-lg-auto px-5",type:"submit"}," 送出訂單 ")],-1);function he(e,t,n,r,o,s){const u=(0,i.g2)("Field"),d=(0,i.g2)("ErrorMessage"),c=(0,i.g2)("Form");return(0,i.uX)(),(0,i.Wv)(c,{onSubmit:s.createOrder,class:"d-flex flex-column justify-content-between"},{default:(0,i.k6)((({errors:e})=>[(0,i.Lk)("div",re,[ie,(0,i.Lk)("div",null,[ae,le,(0,i.bF)(u,{modelValue:o.form.user.name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.form.user.name=e),class:(0,a.C4)([{"is-invalid":e["姓名"]},"form-control"]),id:"name",name:"姓名",type:"text",rules:"required"},null,8,["modelValue","class"]),(0,i.bF)(d,{name:"姓名",class:"invalid-feedback"})]),(0,i.Lk)("div",null,[oe,se,(0,i.bF)(u,{modelValue:o.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=e=>o.form.user.email=e),class:(0,a.C4)([{"is-invalid":e["email"]},"form-control"]),id:"email",name:"email",type:"email",rules:"required|email"},null,8,["modelValue","class"]),(0,i.bF)(d,{name:"email",class:"invalid-feedback"})]),(0,i.Lk)("div",null,[ue,de,(0,i.bF)(u,{modelValue:o.form.user.tel,"onUpdate:modelValue":t[2]||(t[2]=e=>o.form.user.tel=e),class:(0,a.C4)([{"is-invalid":e["電話"]},"form-control"]),id:"tel",name:"電話",type:"tel",rules:"required"},null,8,["modelValue","class"]),(0,i.bF)(d,{name:"電話",class:"invalid-feedback"})]),(0,i.Lk)("div",null,[ce,ve,(0,i.bF)(u,{modelValue:o.form.user.address,"onUpdate:modelValue":t[3]||(t[3]=e=>o.form.user.address=e),class:(0,a.C4)([{"is-invalid":e["地址"]},"form-control"]),id:"address",name:"地址",type:"text",rules:"required"},null,8,["modelValue","class"]),(0,i.bF)(d,{name:"地址",class:"invalid-feedback"})]),(0,i.Lk)("div",null,[fe,(0,i.bo)((0,i.Lk)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.form.message=e),class:"form-control",name:"message",id:"message",cols:"30",rows:"5"},null,512),[[l.Jo,o.form.message]])])]),pe])),_:1},8,["onSubmit"])}n(4114),n(9479),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(4979);var me=n(144);
/**
  * vee-validate v4.13.2
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */
function ge(e){return"function"===typeof e}function ye(e){return null===e||void 0===e}const be=e=>null!==e&&!!e&&"object"===typeof e&&!Array.isArray(e);function Ae(e){return Number(e)>=0}function Oe(e){const t=parseFloat(e);return isNaN(t)?e:t}function $e(e){return"object"===typeof e&&null!==e}function ke(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function Ve(e){if(!$e(e)||"[object Object]"!==ke(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;while(null!==Object.getPrototypeOf(t))t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function xe(e,t){return Object.keys(t).forEach((n=>{if(Ve(t[n])&&Ve(e[n]))return e[n]||(e[n]={}),void xe(e[n],t[n]);e[n]=t[n]})),e}function je(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let r=1;r<t.length;r++)Ae(t[r])?n+=`[${t[r]}]`:n+=`.${t[r]}`;return n}const _e={};function Ee(e,t){Ce(e,t),_e[e]=t}function we(e){return _e[e]}function Ce(e,t){if(!ge(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function Fe(e,t,n){"object"===typeof n.value&&(n.value=Se(n.value)),n.enumerable&&!n.get&&!n.set&&n.configurable&&n.writable&&"__proto__"!==t?e[t]=n.value:Object.defineProperty(e,t,n)}function Se(e){if("object"!==typeof e)return e;var t,n,r,i=0,a=Object.prototype.toString.call(e);if("[object Object]"===a?r=Object.create(e.__proto__||null):"[object Array]"===a?r=Array(e.length):"[object Set]"===a?(r=new Set,e.forEach((function(e){r.add(Se(e))}))):"[object Map]"===a?(r=new Map,e.forEach((function(e,t){r.set(Se(t),Se(e))}))):"[object Date]"===a?r=new Date(+e):"[object RegExp]"===a?r=new RegExp(e.source,e.flags):"[object DataView]"===a?r=new e.constructor(Se(e.buffer)):"[object ArrayBuffer]"===a?r=e.slice(0):"Array]"===a.slice(-6)&&(r=new e.constructor(e)),r){for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)Fe(r,n[i],Object.getOwnPropertyDescriptor(e,n[i]));for(i=0,n=Object.getOwnPropertyNames(e);i<n.length;i++)Object.hasOwnProperty.call(r,t=n[i])&&r[t]===e[t]||Fe(r,t,Object.getOwnPropertyDescriptor(e,t))}return r||e}const Be=Symbol("vee-validate-form"),Le=Symbol("vee-validate-field-instance"),Ie=Symbol("Default empty value"),Me="undefined"!==typeof window;function Ze(e){return ge(e)&&!!e.__locatorRef}function Re(e){return!!e&&ge(e.parse)&&"VVTypedSchema"===e.__type}function We(e){return!!e&&ge(e.validate)}function Ne(e){return"checkbox"===e||"radio"===e}function Pe(e){return be(e)||Array.isArray(e)}function Te(e){return Array.isArray(e)?0===e.length:be(e)&&0===Object.keys(e).length}function Ue(e){return/^\[.+\]$/i.test(e)}function De(e){return qe(e)&&e.multiple}function qe(e){return"SELECT"===e.tagName}function ze(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return"select"===e&&"multiple"in t&&n}function Ke(e,t){return!ze(e,t)&&"file"!==t.type&&!Ne(t.type)}function Xe(e){return Ye(e)&&e.target&&"submit"in e.target}function Ye(e){return!!e&&(!!("undefined"!==typeof Event&&ge(Event)&&e instanceof Event)||!(!e||!e.srcElement))}function Qe(e,t){return t in e&&e[t]!==Ie}function Je(e,t){if(e===t)return!0;if(e&&t&&"object"===typeof e&&"object"===typeof t){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;0!==r--;)if(!Je(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Je(r[1],t.get(r[0])))return!1;return!0}if(Ge(e)&&Ge(t))return e.size===t.size&&(e.name===t.name&&(e.lastModified===t.lastModified&&e.type===t.type));if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;0!==r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(i=Object.keys(e),n=i.length,r=n;0!==r--;){var a=i[r];if(!Je(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Ge(e){return!!Me&&e instanceof File}function He(e){return Ue(e)?e.replace(/\[|\]/gi,""):e}function et(e,t,n){if(!e)return n;if(Ue(t))return e[He(t)];const r=(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce(((e,t)=>Pe(e)&&t in e?e[t]:n),e);return r}function tt(e,t,n){if(Ue(t))return void(e[He(t)]=n);const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let a=0;a<r.length;a++){if(a===r.length-1)return void(i[r[a]]=n);r[a]in i&&!ye(i[r[a]])||(i[r[a]]=Ae(r[a+1])?[]:{}),i=i[r[a]]}}function nt(e,t){Array.isArray(e)&&Ae(t)?e.splice(Number(t),1):be(e)&&delete e[t]}function rt(e,t){if(Ue(t))return void delete e[He(t)];const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let a=0;a<n.length;a++){if(a===n.length-1){nt(r,n[a]);break}if(!(n[a]in r)||ye(r[n[a]]))break;r=r[n[a]]}const i=n.map(((t,r)=>et(e,n.slice(0,r).join("."))));for(let a=i.length-1;a>=0;a--)Te(i[a])&&(0!==a?nt(i[a-1],n[a-1]):nt(e,n[0]))}function it(e){return Object.keys(e)}function at(e,t=void 0){const n=(0,i.nI)();return(null===n||void 0===n?void 0:n.provides[e])||(0,i.WQ)(e,t)}function lt(e,t,n){if(Array.isArray(e)){const n=[...e],r=n.findIndex((e=>Je(e,t)));return r>=0?n.splice(r,1):n.push(t),n}return Je(e,t)?n:t}function ot(e,t){let n,r;return function(...i){const a=this;return n||(n=!0,setTimeout((()=>n=!1),t),r=e.apply(a,i)),r}}function st(e,t=0){let n=null,r=[];return function(...i){return n&&clearTimeout(n),n=setTimeout((()=>{const t=e(...i);r.forEach((e=>e(t))),r=[]}),t),new Promise((e=>r.push(e)))}}function ut(e,t){return be(t)&&t.number?Oe(e):e}function dt(e,t){let n;return async function(...r){const i=e(...r);n=i;const a=await i;return i!==n?a:(n=void 0,t(a,r))}}function ct(e){return Array.isArray(e)?e:e?[e]:[]}function vt(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function ft(e){let t=null,n=[];return function(...r){const a=(0,i.dY)((()=>{if(t!==a)return;const i=e(...r);n.forEach((e=>e(i))),n=[],t=null}));return t=a,new Promise((e=>n.push(e)))}}function pt(e,t,n){return t.slots.default?"string"!==typeof e&&e?{default:()=>{var e,r;return null===(r=(e=t.slots).default)||void 0===r?void 0:r.call(e,n())}}:t.slots.default(n()):t.slots.default}function ht(e){if(mt(e))return e._value}function mt(e){return"_value"in e}function gt(e){return"number"===e.type||"range"===e.type?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function yt(e){if(!Ye(e))return e;const t=e.target;if(Ne(t.type)&&mt(t))return ht(t);if("file"===t.type&&t.files){const e=Array.from(t.files);return t.multiple?e:e[0]}if(De(t))return Array.from(t.options).filter((e=>e.selected&&!e.disabled)).map(ht);if(qe(t)){const e=Array.from(t.options).find((e=>e.selected));return e?ht(e):t.value}return gt(t)}function bt(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?be(e)&&e._$$isNormalized?e:be(e)?Object.keys(e).reduce(((t,n)=>{const r=At(e[n]);return!1!==e[n]&&(t[n]=Ot(r)),t}),t):"string"!==typeof e?t:e.split("|").reduce(((e,t)=>{const n=$t(t);return n.name?(e[n.name]=Ot(n.params),e):e}),t):t}function At(e){return!0===e?[]:Array.isArray(e)||be(e)?e:[e]}function Ot(e){const t=e=>"string"===typeof e&&"@"===e[0]?kt(e.slice(1)):e;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce(((n,r)=>(n[r]=t(e[r]),n)),{})}const $t=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function kt(e){const t=t=>{const n=et(t,e)||t[e];return n};return t.__locatorRef=e,t}function Vt(e){return Array.isArray(e)?e.filter(Ze):it(e).filter((t=>Ze(e[t]))).map((t=>e[t]))}const xt={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let jt=Object.assign({},xt);const _t=()=>jt,Et=e=>{jt=Object.assign(Object.assign({},jt),e)},wt=Et;async function Ct(e,t,n={}){const r=null===n||void 0===n?void 0:n.bails,i={name:(null===n||void 0===n?void 0:n.name)||"{field}",rules:t,label:null===n||void 0===n?void 0:n.label,bails:null===r||void 0===r||r,formData:(null===n||void 0===n?void 0:n.values)||{}},a=await Ft(i,e);return Object.assign(Object.assign({},a),{valid:!a.errors.length})}async function Ft(e,t){const n=e.rules;if(Re(n)||We(n))return Lt(t,Object.assign(Object.assign({},e),{rules:n}));if(ge(n)||Array.isArray(n)){const r={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},i=Array.isArray(n)?n:[n],a=i.length,l=[];for(let n=0;n<a;n++){const a=i[n],o=await a(t,r),s="string"!==typeof o&&!Array.isArray(o)&&o;if(!s){if(Array.isArray(o))l.push(...o);else{const e="string"===typeof o?o:Mt(r);l.push(e)}if(e.bails)return{errors:l}}}return{errors:l}}const r=Object.assign(Object.assign({},e),{rules:bt(n)}),i=[],a=Object.keys(r.rules),l=a.length;for(let o=0;o<l;o++){const n=a[o],l=await It(r,t,{name:n,params:r.rules[n]});if(l.error&&(i.push(l.error),e.bails))return{errors:i}}return{errors:i}}function St(e){return!!e&&"ValidationError"===e.name}function Bt(e){const t={__type:"VVTypedSchema",async parse(t,n){var r;try{const r=await e.validate(t,{abortEarly:!1,context:(null===n||void 0===n?void 0:n.formData)||{}});return{output:r,errors:[]}}catch(i){if(!St(i))throw i;if(!(null===(r=i.inner)||void 0===r?void 0:r.length)&&i.errors.length)return{errors:[{path:i.path,errors:i.errors}]};const e=i.inner.reduce(((e,t)=>{const n=t.path||"";return e[n]||(e[n]={errors:[],path:n}),e[n].errors.push(...t.errors),e}),{});return{errors:Object.values(e)}}}};return t}async function Lt(e,t){const n=Re(t.rules)?t.rules:Bt(t.rules),r=await n.parse(e,{formData:t.formData}),i=[];for(const a of r.errors)a.errors.length&&i.push(...a.errors);return{value:r.value,errors:i}}async function It(e,t,n){const r=we(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const i=Zt(n.params,e.formData),a={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:i})},l=await r(t,i,a);return"string"===typeof l?{error:l}:{error:l?void 0:Mt(a)}}function Mt(e){const t=_t().generateMessage;return t?t(e):"Field is invalid"}function Zt(e,t){const n=e=>Ze(e)?e(t):e;return Array.isArray(e)?e.map(n):Object.keys(e).reduce(((t,r)=>(t[r]=n(e[r]),t)),{})}async function Rt(e,t){const n=Re(e)?e:Bt(e),r=await n.parse(Se(t)),i={},a={};for(const l of r.errors){const e=l.errors,t=(l.path||"").replace(/\["(\d+)"\]/g,((e,t)=>`[${t}]`));i[t]={valid:!e.length,errors:e},e.length&&(a[t]=e[0])}return{valid:!r.errors.length,results:i,errors:a,values:r.value,source:"schema"}}async function Wt(e,t,n){const r=it(e),i=r.map((async r=>{var i,a,l;const o=null===(i=null===n||void 0===n?void 0:n.names)||void 0===i?void 0:i[r],s=await Ct(et(t,r),e[r],{name:(null===o||void 0===o?void 0:o.name)||r,label:null===o||void 0===o?void 0:o.label,values:t,bails:null===(l=null===(a=null===n||void 0===n?void 0:n.bailsMap)||void 0===a?void 0:a[r])||void 0===l||l});return Object.assign(Object.assign({},s),{path:r})}));let a=!0;const l=await Promise.all(i),o={},s={};for(const u of l)o[u.path]={valid:u.valid,errors:u.errors},u.valid||(a=!1,s[u.path]=u.errors[0]);return{valid:a,results:o,errors:s,source:"schema"}}let Nt=0;function Pt(e,t){const{value:n,initialValue:r,setInitialValue:a}=Tt(e,t.modelValue,t.form);if(!t.form){const{errors:u,setErrors:d}=qt(),c=Nt>=Number.MAX_SAFE_INTEGER?0:++Nt,v=Dt(n,r,u,t.schema);function f(e){var t;"value"in e&&(n.value=e.value),"errors"in e&&d(e.errors),"touched"in e&&(v.touched=null!==(t=e.touched)&&void 0!==t?t:v.touched),"initialValue"in e&&a(e.initialValue)}return{id:c,path:e,value:n,initialValue:r,meta:v,flags:{pendingUnmount:{[c]:!1},pendingReset:!1},errors:u,setState:f}}const l=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate,schema:t.schema}),o=(0,i.EW)((()=>l.errors));function s(r){var i,l,o;"value"in r&&(n.value=r.value),"errors"in r&&(null===(i=t.form)||void 0===i||i.setFieldError((0,me.R1)(e),r.errors)),"touched"in r&&(null===(l=t.form)||void 0===l||l.setFieldTouched((0,me.R1)(e),null!==(o=r.touched)&&void 0!==o&&o)),"initialValue"in r&&a(r.initialValue)}return{id:Array.isArray(l.id)?l.id[l.id.length-1]:l.id,path:e,value:n,errors:o,meta:l,initialValue:r,flags:l.__flags,setState:s}}function Tt(e,t,n){const r=(0,me.KR)((0,me.R1)(t));function a(){return n?et(n.initialValues.value,(0,me.R1)(e),(0,me.R1)(r)):(0,me.R1)(r)}function l(t){n?n.setFieldInitialValue((0,me.R1)(e),t,!0):r.value=t}const o=(0,i.EW)(a);if(!n){const e=(0,me.KR)(a());return{value:e,initialValue:o,setInitialValue:l}}const s=Ut(t,n,o,e);n.stageInitialValue((0,me.R1)(e),s,!0);const u=(0,i.EW)({get(){return et(n.values,(0,me.R1)(e))},set(t){n.setFieldValue((0,me.R1)(e),t,!1)}});return{value:u,initialValue:o,setInitialValue:l}}function Ut(e,t,n,r){return(0,me.i9)(e)?(0,me.R1)(e):void 0!==e?e:et(t.values,(0,me.R1)(r),(0,me.R1)(n))}function Dt(e,t,n,r){const a=(0,i.EW)((()=>{var e,t,n;return null!==(n=null===(t=null===(e=(0,me.BA)(r))||void 0===e?void 0:e.describe)||void 0===t?void 0:t.call(e).required)&&void 0!==n&&n})),l=(0,me.Kh)({touched:!1,pending:!1,valid:!0,required:a,validated:!!(0,me.R1)(n).length,initialValue:(0,i.EW)((()=>(0,me.R1)(t))),dirty:(0,i.EW)((()=>!Je((0,me.R1)(e),(0,me.R1)(t))))});return(0,i.wB)(n,(e=>{l.valid=!e.length}),{immediate:!0,flush:"sync"}),l}function qt(){const e=(0,me.KR)([]);return{errors:e,setErrors:t=>{e.value=ct(t)}}}let zt;ot((()=>{setTimeout((async()=>{await(0,i.dY)(),null===zt||void 0===zt||zt.sendInspectorState(Kt),null===zt||void 0===zt||zt.sendInspectorTree(Kt)}),100)}),100);const Kt="vee-validate-inspector";function Xt(e,t,n){return Ne(null===n||void 0===n?void 0:n.type)?Jt(e,t,n):Yt(e,t,n)}function Yt(e,t,n){const{initialValue:r,validateOnMount:a,bails:l,type:o,checkedValue:s,label:u,validateOnValueUpdate:d,uncheckedValue:c,controlled:v,keepValueOnUnmount:f,syncVModel:p,form:h}=Qt(n),m=v?at(Be):void 0,g=h||m,y=(0,i.EW)((()=>je((0,me.BA)(e)))),b=(0,i.EW)((()=>{const e=(0,me.BA)(null===g||void 0===g?void 0:g.schema);if(e)return;const n=(0,me.R1)(t);return We(n)||Re(n)||ge(n)||Array.isArray(n)?n:bt(n)})),A=!ge(b.value)&&Re((0,me.BA)(t)),{id:O,value:$,initialValue:k,meta:V,setState:x,errors:j,flags:_}=Pt(y,{modelValue:r,form:g,bails:l,label:u,type:o,validate:b.value?B:void 0,schema:A?t:void 0}),E=(0,i.EW)((()=>j.value[0]));p&&Gt({value:$,prop:p,handleChange:L,shouldValidate:()=>d&&!_.pendingReset});const w=(e,t=!1)=>{V.touched=!0,t&&F()};async function C(e){var t,n;if(null===g||void 0===g?void 0:g.validateSchema){const{results:n}=await g.validateSchema(e);return null!==(t=n[(0,me.BA)(y)])&&void 0!==t?t:{valid:!0,errors:[]}}return b.value?Ct($.value,b.value,{name:(0,me.BA)(y),label:(0,me.BA)(u),values:null!==(n=null===g||void 0===g?void 0:g.values)&&void 0!==n?n:{},bails:l}):{valid:!0,errors:[]}}const F=dt((async()=>(V.pending=!0,V.validated=!0,C("validated-only"))),(e=>(_.pendingUnmount[P.id]||(x({errors:e.errors}),V.pending=!1,V.valid=e.valid),e))),S=dt((async()=>C("silent")),(e=>(V.valid=e.valid,e)));function B(e){return"silent"===(null===e||void 0===e?void 0:e.mode)?S():F()}function L(e,t=!0){const n=yt(e);R(n,t)}function I(e){V.touched=e}function M(e){var t;const n=e&&"value"in e?e.value:k.value;x({value:Se(n),initialValue:Se(n),touched:null!==(t=null===e||void 0===e?void 0:e.touched)&&void 0!==t&&t,errors:(null===e||void 0===e?void 0:e.errors)||[]}),V.pending=!1,V.validated=!1,S()}(0,i.sV)((()=>{if(a)return F();g&&g.validateSchema||S()}));const Z=(0,i.nI)();function R(e,t=!0){$.value=Z&&p?ut(e,Z.props.modelModifiers):e;const n=t?F:S;n()}function W(e){x({errors:Array.isArray(e)?e:[e]})}const N=(0,i.EW)({get(){return $.value},set(e){R(e,d)}}),P={id:O,name:y,label:u,value:N,meta:V,errors:j,errorMessage:E,type:o,checkedValue:s,uncheckedValue:c,bails:l,keepValueOnUnmount:f,resetField:M,handleReset:()=>M(),validate:B,handleChange:L,handleBlur:w,setState:x,setTouched:I,setErrors:W,setValue:R};if((0,i.Gt)(Le,P),(0,me.i9)(t)&&"function"!==typeof(0,me.R1)(t)&&(0,i.wB)(t,((e,t)=>{Je(e,t)||(V.validated?F():S())}),{deep:!0}),!g)return P;const T=(0,i.EW)((()=>{const e=b.value;return!e||ge(e)||We(e)||Re(e)||Array.isArray(e)?{}:Object.keys(e).reduce(((t,n)=>{const r=Vt(e[n]).map((e=>e.__locatorRef)).reduce(((e,t)=>{const n=et(g.values,t)||g.values[t];return void 0!==n&&(e[t]=n),e}),{});return Object.assign(t,r),t}),{})}));return(0,i.wB)(T,((e,t)=>{if(!Object.keys(e).length)return;const n=!Je(e,t);n&&(V.validated?F():S())})),(0,i.xo)((()=>{var e;const t=null!==(e=(0,me.BA)(P.keepValueOnUnmount))&&void 0!==e?e:(0,me.BA)(g.keepValuesOnUnmount),n=(0,me.BA)(y);if(t||!g||_.pendingUnmount[P.id])return void(null===g||void 0===g||g.removePathState(n,O));_.pendingUnmount[P.id]=!0;const r=g.getPathState(n),i=Array.isArray(null===r||void 0===r?void 0:r.id)&&(null===r||void 0===r?void 0:r.multiple)?null===r||void 0===r?void 0:r.id.includes(P.id):(null===r||void 0===r?void 0:r.id)===P.id;if(i){if((null===r||void 0===r?void 0:r.multiple)&&Array.isArray(r.value)){const e=r.value.findIndex((e=>Je(e,(0,me.BA)(P.checkedValue))));if(e>-1){const t=[...r.value];t.splice(e,1),g.setFieldValue(n,t)}Array.isArray(r.id)&&r.id.splice(r.id.indexOf(P.id),1)}else g.unsetPathValue((0,me.BA)(y));g.removePathState(n,O)}})),P}function Qt(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(null===e||void 0===e?void 0:e.syncVModel),r="string"===typeof(null===e||void 0===e?void 0:e.syncVModel)?e.syncVModel:(null===e||void 0===e?void 0:e.modelPropName)||"modelValue",a=n&&!("initialValue"in(e||{}))?Ht((0,i.nI)(),r):null===e||void 0===e?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:a});const l="valueProp"in e?e.valueProp:e.checkedValue,o="standalone"in e?!e.standalone:e.controlled,s=(null===e||void 0===e?void 0:e.modelPropName)||(null===e||void 0===e?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:a,controlled:null===o||void 0===o||o,checkedValue:l,syncVModel:s})}function Jt(e,t,n){const r=(null===n||void 0===n?void 0:n.standalone)?void 0:at(Be),a=null===n||void 0===n?void 0:n.checkedValue,l=null===n||void 0===n?void 0:n.uncheckedValue;function o(t){const o=t.handleChange,s=(0,i.EW)((()=>{const e=(0,me.BA)(t.value),n=(0,me.BA)(a);return Array.isArray(e)?e.findIndex((e=>Je(e,n)))>=0:Je(n,e)}));function u(i,u=!0){var d,c;if(s.value===(null===(d=null===i||void 0===i?void 0:i.target)||void 0===d?void 0:d.checked))return void(u&&t.validate());const v=(0,me.BA)(e),f=null===r||void 0===r?void 0:r.getPathState(v),p=yt(i);let h=null!==(c=(0,me.BA)(a))&&void 0!==c?c:p;r&&(null===f||void 0===f?void 0:f.multiple)&&"checkbox"===f.type?h=lt(et(r.values,v)||[],h,void 0):"checkbox"===(null===n||void 0===n?void 0:n.type)&&(h=lt((0,me.BA)(t.value),h,(0,me.BA)(l))),o(h,u)}return Object.assign(Object.assign({},t),{checked:s,checkedValue:a,uncheckedValue:l,handleChange:u})}return o(Yt(e,t,n))}function Gt({prop:e,value:t,handleChange:n,shouldValidate:r}){const a=(0,i.nI)();if(!a||!e)return void 0;const l="string"===typeof e?e:"modelValue",o=`update:${l}`;l in a.props&&((0,i.wB)(t,(e=>{Je(e,Ht(a,l))||a.emit(o,e)})),(0,i.wB)((()=>Ht(a,l)),(e=>{if(e===Ie&&void 0===t.value)return;const i=e===Ie?void 0:e;Je(i,t.value)||n(i,r())})))}function Ht(e,t){if(e)return e.props[t]}const en=(0,i.pM)({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>_t().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Ie},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=(0,me.lW)(e,"rules"),r=(0,me.lW)(e,"name"),a=(0,me.lW)(e,"label"),l=(0,me.lW)(e,"uncheckedValue"),o=(0,me.lW)(e,"keepValue"),{errors:s,value:u,errorMessage:d,validate:c,handleChange:v,handleBlur:f,setTouched:p,resetField:h,handleReset:m,meta:g,checked:y,setErrors:b,setValue:A}=Xt(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:rn(e,t),checkedValue:t.attrs.value,uncheckedValue:l,label:a,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:o,syncVModel:!0}),O=function(e,t=!0){v(e,t)},$=(0,i.EW)((()=>{const{validateOnInput:n,validateOnChange:r,validateOnBlur:i,validateOnModelUpdate:a}=nn(e);function l(e){f(e,i),ge(t.attrs.onBlur)&&t.attrs.onBlur(e)}function o(e){O(e,n),ge(t.attrs.onInput)&&t.attrs.onInput(e)}function s(e){O(e,r),ge(t.attrs.onChange)&&t.attrs.onChange(e)}const u={name:e.name,onBlur:l,onInput:o,onChange:s,"onUpdate:modelValue":e=>O(e,a)};return u})),k=(0,i.EW)((()=>{const n=Object.assign({},$.value);Ne(t.attrs.type)&&y&&(n.checked=y.value);const r=tn(e,t);return Ke(r,t.attrs)&&(n.value=u.value),n})),V=(0,i.EW)((()=>Object.assign(Object.assign({},$.value),{modelValue:u.value})));function x(){return{field:k.value,componentField:V.value,value:u.value,meta:g,errors:s.value,errorMessage:d.value,validate:c,resetField:h,handleChange:O,handleInput:e=>O(e,!1),handleReset:m,handleBlur:$.value.onBlur,setTouched:p,setErrors:b,setValue:A}}return t.expose({value:u,meta:g,errors:s,errorMessage:d,setErrors:b,setTouched:p,setValue:A,reset:h,validate:c,handleChange:v}),()=>{const n=(0,i.$y)(tn(e,t)),r=pt(n,t,x);return n?(0,i.h)(n,Object.assign(Object.assign({},t.attrs),k.value),r):r}}});function tn(e,t){let n=e.as||"";return e.as||t.slots.default||(n="input"),n}function nn(e){var t,n,r,i;const{validateOnInput:a,validateOnChange:l,validateOnBlur:o,validateOnModelUpdate:s}=_t();return{validateOnInput:null!==(t=e.validateOnInput)&&void 0!==t?t:a,validateOnChange:null!==(n=e.validateOnChange)&&void 0!==n?n:l,validateOnBlur:null!==(r=e.validateOnBlur)&&void 0!==r?r:o,validateOnModelUpdate:null!==(i=e.validateOnModelUpdate)&&void 0!==i?i:s}}function rn(e,t){return Ne(t.attrs.type)?Qe(e,"modelValue")?e.modelValue:void 0:Qe(e,"modelValue")?e.modelValue:t.attrs.value}const an=en;let ln=0;const on=["bails","fieldsCount","id","multiple","type","validate"];function sn(e){const t=(null===e||void 0===e?void 0:e.initialValues)||{},n=Object.assign({},(0,me.BA)(t)),r=(0,me.R1)(null===e||void 0===e?void 0:e.validationSchema);return r&&Re(r)&&ge(r.cast)?Se(r.cast(n)||{}):Se(n)}function un(e){var t;const n=ln++;let r=0;const a=(0,me.KR)(!1),l=(0,me.KR)(!1),o=(0,me.KR)(0),s=[],u=(0,me.Kh)(sn(e)),d=(0,me.KR)([]),c=(0,me.KR)({}),v=(0,me.KR)({}),f=ft((()=>{v.value=d.value.reduce(((e,t)=>(e[je((0,me.BA)(t.path))]=t,e)),{})}));function p(e,t){const n=B(e);if(n){if("string"===typeof e){const t=je(e);c.value[t]&&delete c.value[t]}n.errors=ct(t),n.valid=!n.errors.length}else"string"===typeof e&&(c.value[je(e)]=ct(t))}function h(e){it(e).forEach((t=>{p(t,e[t])}))}(null===e||void 0===e?void 0:e.initialErrors)&&h(e.initialErrors);const m=(0,i.EW)((()=>{const e=d.value.reduce(((e,t)=>(t.errors.length&&(e[t.path]=t.errors),e)),{});return Object.assign(Object.assign({},c.value),e)})),g=(0,i.EW)((()=>it(m.value).reduce(((e,t)=>{const n=m.value[t];return(null===n||void 0===n?void 0:n.length)&&(e[t]=n[0]),e}),{}))),y=(0,i.EW)((()=>d.value.reduce(((e,t)=>(e[t.path]={name:t.path||"",label:t.label||""},e)),{}))),b=(0,i.EW)((()=>d.value.reduce(((e,t)=>{var n;return e[t.path]=null===(n=t.bails)||void 0===n||n,e}),{}))),A=Object.assign({},(null===e||void 0===e?void 0:e.initialErrors)||{}),O=null!==(t=null===e||void 0===e?void 0:e.keepValuesOnUnmount)&&void 0!==t&&t,{initialValues:$,originalInitialValues:k,setInitialValues:V}=cn(d,u,e),x=dn(d,u,k,g),j=(0,i.EW)((()=>d.value.reduce(((e,t)=>{const n=et(u,t.path);return tt(e,t.path,n),e}),{}))),_=null===e||void 0===e?void 0:e.validationSchema;function E(e,t){var n,a;const l=(0,i.EW)((()=>et($.value,(0,me.BA)(e)))),o=v.value[(0,me.BA)(e)],s="checkbox"===(null===t||void 0===t?void 0:t.type)||"radio"===(null===t||void 0===t?void 0:t.type);if(o&&s){o.multiple=!0;const e=r++;return Array.isArray(o.id)?o.id.push(e):o.id=[o.id,e],o.fieldsCount++,o.__flags.pendingUnmount[e]=!1,o}const c=(0,i.EW)((()=>et(u,(0,me.BA)(e)))),p=(0,me.BA)(e),h=M.findIndex((e=>e===p));-1!==h&&M.splice(h,1);const m=(0,i.EW)((()=>{var n,r,i,a;const l=(0,me.BA)(_);if(Re(l))return null!==(r=null===(n=l.describe)||void 0===n?void 0:n.call(l,(0,me.BA)(e)).required)&&void 0!==r&&r;const o=(0,me.BA)(null===t||void 0===t?void 0:t.schema);return!!Re(o)&&(null!==(a=null===(i=o.describe)||void 0===i?void 0:i.call(o).required)&&void 0!==a&&a)})),y=r++,b=(0,me.Kh)({id:y,path:e,touched:!1,pending:!1,valid:!0,validated:!!(null===(n=A[p])||void 0===n?void 0:n.length),required:m,initialValue:l,errors:(0,me.IJ)([]),bails:null!==(a=null===t||void 0===t?void 0:t.bails)&&void 0!==a&&a,label:null===t||void 0===t?void 0:t.label,type:(null===t||void 0===t?void 0:t.type)||"default",value:c,multiple:!1,__flags:{pendingUnmount:{[y]:!1},pendingReset:!1},fieldsCount:1,validate:null===t||void 0===t?void 0:t.validate,dirty:(0,i.EW)((()=>!Je((0,me.R1)(c),(0,me.R1)(l))))});return d.value.push(b),v.value[p]=b,f(),g.value[p]&&!A[p]&&(0,i.dY)((()=>{ne(p,{mode:"silent"})})),(0,me.i9)(e)&&(0,i.wB)(e,(e=>{f();const t=Se(c.value);v.value[e]=b,(0,i.dY)((()=>{tt(u,e,t)}))})),b}const w=st(le,5),C=st(le,5),F=dt((async e=>await("silent"===e?w():C())),((e,[t])=>{const n=it(U.errorBag.value),r=[...new Set([...it(e.results),...d.value.map((e=>e.path)),...n])].sort(),i=r.reduce(((n,r)=>{var i;const a=r,l=B(a)||L(a),o=(null===(i=e.results[a])||void 0===i?void 0:i.errors)||[],s=(0,me.BA)(null===l||void 0===l?void 0:l.path)||a,u=vn({errors:o,valid:!o.length},n.results[s]);return n.results[s]=u,u.valid||(n.errors[s]=u.errors[0]),l&&c.value[s]&&delete c.value[s],l?(l.valid=u.valid,"silent"===t?n:"validated-only"!==t||l.validated?(p(l,u.errors),n):n):(p(s,o),n)}),{valid:e.valid,results:{},errors:{},source:e.source});return e.values&&(i.values=e.values,i.source=e.source),it(i.results).forEach((e=>{var n;const r=B(e);r&&"silent"!==t&&("validated-only"!==t||r.validated)&&p(r,null===(n=i.results[e])||void 0===n?void 0:n.errors)})),i}));function S(e){d.value.forEach(e)}function B(e){const t="string"===typeof e?je(e):e,n="string"===typeof t?v.value[t]:t;return n}function L(e){const t=d.value.filter((t=>e.startsWith(t.path)));return t.reduce(((e,t)=>e?t.path.length>e.path.length?t:e:t),void 0)}let I,M=[];function Z(e){return M.push(e),I||(I=(0,i.dY)((()=>{const e=[...M].sort().reverse();e.forEach((e=>{rt(u,e)})),M=[],I=null}))),I}function R(e){return function(t,n){return function(r){return r instanceof Event&&(r.preventDefault(),r.stopPropagation()),S((e=>e.touched=!0)),a.value=!0,o.value++,te().then((i=>{const a=Se(u);if(i.valid&&"function"===typeof t){const n=Se(j.value);let l=e?n:a;return i.values&&(l="schema"===i.source?i.values:Object.assign({},l,i.values)),t(l,{evt:r,controlledValues:n,setErrors:h,setFieldError:p,setTouched:G,setFieldTouched:X,setValues:z,setFieldValue:D,resetForm:ee,resetField:H})}i.valid||"function"!==typeof n||n({values:a,evt:r,errors:i.errors,results:i.results})})).then((e=>(a.value=!1,e)),(e=>{throw a.value=!1,e}))}}}const W=R(!1),N=W;function P(e,t){const n=d.value.findIndex((n=>n.path===e&&(Array.isArray(n.id)?n.id.includes(t):n.id===t))),r=d.value[n];if(-1!==n&&r){if((0,i.dY)((()=>{ne(e,{mode:"silent",warn:!1})})),r.multiple&&r.fieldsCount&&r.fieldsCount--,Array.isArray(r.id)){const e=r.id.indexOf(t);e>=0&&r.id.splice(e,1),delete r.__flags.pendingUnmount[t]}(!r.multiple||r.fieldsCount<=0)&&(d.value.splice(n,1),re(e),f(),delete v.value[e])}}function T(e){it(v.value).forEach((t=>{t.startsWith(e)&&delete v.value[t]})),d.value=d.value.filter((t=>!t.path.startsWith(e))),(0,i.dY)((()=>{f()}))}N.withControlled=R(!0);const U={formId:n,values:u,controlledValues:j,errorBag:m,errors:g,schema:_,submitCount:o,meta:x,isSubmitting:a,isValidating:l,fieldArrays:s,keepValuesOnUnmount:O,validateSchema:(0,me.R1)(_)?F:void 0,validate:te,setFieldError:p,validateField:ne,setFieldValue:D,setValues:z,setErrors:h,setFieldTouched:X,setTouched:G,resetForm:ee,resetField:H,handleSubmit:N,useFieldModel:ue,defineInputBinds:de,defineComponentBinds:ce,defineField:se,stageInitialValue:ie,unsetInitialValue:re,setFieldInitialValue:ae,createPathState:E,getPathState:B,unsetPathValue:Z,removePathState:P,initialValues:$,getAllPathStates:()=>d.value,destroyPath:T,isFieldTouched:Y,isFieldDirty:Q,isFieldValid:J};function D(e,t,n=!0){const r=Se(t),i="string"===typeof e?e:e.path,a=B(i);a||E(i),tt(u,i,r),n&&ne(i)}function q(e,t=!0){it(u).forEach((e=>{delete u[e]})),it(e).forEach((t=>{D(t,e[t],!1)})),t&&te()}function z(e,t=!0){xe(u,e),s.forEach((e=>e&&e.reset())),t&&te()}function K(e,t){const n=B((0,me.BA)(e))||E(e);return(0,i.EW)({get(){return n.value},set(n){var r;const i=(0,me.BA)(e);D(i,n,null!==(r=(0,me.BA)(t))&&void 0!==r&&r)}})}function X(e,t){const n=B(e);n&&(n.touched=t)}function Y(e){const t=B(e);return t?t.touched:d.value.filter((t=>t.path.startsWith(e))).some((e=>e.touched))}function Q(e){const t=B(e);return t?t.dirty:d.value.filter((t=>t.path.startsWith(e))).some((e=>e.dirty))}function J(e){const t=B(e);return t?t.valid:d.value.filter((t=>t.path.startsWith(e))).every((e=>e.valid))}function G(e){"boolean"!==typeof e?it(e).forEach((t=>{X(t,!!e[t])})):S((t=>{t.touched=e}))}function H(e,t){var n;const r=t&&"value"in t?t.value:et($.value,e),a=B(e);a&&(a.__flags.pendingReset=!0),ae(e,Se(r),!0),D(e,r,!1),X(e,null!==(n=null===t||void 0===t?void 0:t.touched)&&void 0!==n&&n),p(e,(null===t||void 0===t?void 0:t.errors)||[]),(0,i.dY)((()=>{a&&(a.__flags.pendingReset=!1)}))}function ee(e,t){let n=Se((null===e||void 0===e?void 0:e.values)?e.values:k.value);n=(null===t||void 0===t?void 0:t.force)?n:xe(k.value,n),n=Re(_)&&ge(_.cast)?_.cast(n):n,V(n,{force:null===t||void 0===t?void 0:t.force}),S((t=>{var r;t.__flags.pendingReset=!0,t.validated=!1,t.touched=(null===(r=null===e||void 0===e?void 0:e.touched)||void 0===r?void 0:r[t.path])||!1,D(t.path,et(n,t.path),!1),p(t.path,void 0)})),(null===t||void 0===t?void 0:t.force)?q(n,!1):z(n,!1),h((null===e||void 0===e?void 0:e.errors)||{}),o.value=(null===e||void 0===e?void 0:e.submitCount)||0,(0,i.dY)((()=>{te({mode:"silent"}),S((e=>{e.__flags.pendingReset=!1}))}))}async function te(e){const t=(null===e||void 0===e?void 0:e.mode)||"force";if("force"===t&&S((e=>e.validated=!0)),U.validateSchema)return U.validateSchema(t);l.value=!0;const n=await Promise.all(d.value.map((t=>t.validate?t.validate(e).then((e=>({key:t.path,valid:e.valid,errors:e.errors,value:e.value}))):Promise.resolve({key:t.path,valid:!0,errors:[],value:void 0}))));l.value=!1;const r={},i={},a={};for(const l of n)r[l.key]={valid:l.valid,errors:l.errors},l.value&&tt(a,l.key,l.value),l.errors.length&&(i[l.key]=l.errors[0]);return{valid:n.every((e=>e.valid)),results:r,errors:i,values:a,source:"fields"}}async function ne(e,t){var n;const r=B(e);if(r&&"silent"!==(null===t||void 0===t?void 0:t.mode)&&(r.validated=!0),_){const{results:n}=await F((null===t||void 0===t?void 0:t.mode)||"validated-only");return n[e]||{errors:[],valid:!0}}if(null===r||void 0===r?void 0:r.validate)return r.validate(t);!r&&(n=null===t||void 0===t?void 0:t.warn);return Promise.resolve({errors:[],valid:!0})}function re(e){rt($.value,e)}function ie(t,n,r=!1){ae(t,n),tt(u,t,n),r&&!(null===e||void 0===e?void 0:e.initialValues)&&tt(k.value,t,Se(n))}function ae(e,t,n=!1){tt($.value,e,Se(t)),n&&tt(k.value,e,Se(t))}async function le(){const e=(0,me.R1)(_);if(!e)return{valid:!0,results:{},errors:{},source:"none"};l.value=!0;const t=We(e)||Re(e)?await Rt(e,u):await Wt(e,u,{names:y.value,bailsMap:b.value});return l.value=!1,t}const oe=N(((e,{evt:t})=>{Xe(t)&&t.target.submit()}));function se(e,t){const n=ge(t)||null===t||void 0===t?void 0:t.label,r=B((0,me.BA)(e))||E(e,{label:n}),a=()=>ge(t)?t(vt(r,on)):t||{};function l(){var e;r.touched=!0;const t=null!==(e=a().validateOnBlur)&&void 0!==e?e:_t().validateOnBlur;t&&ne(r.path)}function o(){var e;const t=null!==(e=a().validateOnInput)&&void 0!==e?e:_t().validateOnInput;t&&(0,i.dY)((()=>{ne(r.path)}))}function s(){var e;const t=null!==(e=a().validateOnChange)&&void 0!==e?e:_t().validateOnChange;t&&(0,i.dY)((()=>{ne(r.path)}))}const u=(0,i.EW)((()=>{const e={onChange:s,onInput:o,onBlur:l};return ge(t)?Object.assign(Object.assign({},e),t(vt(r,on)).props||{}):(null===t||void 0===t?void 0:t.props)?Object.assign(Object.assign({},e),t.props(vt(r,on))):e})),d=K(e,(()=>{var e,t,n;return null===(n=null!==(e=a().validateOnModelUpdate)&&void 0!==e?e:null===(t=_t())||void 0===t?void 0:t.validateOnModelUpdate)||void 0===n||n}));return[d,u]}function ue(e){return Array.isArray(e)?e.map((e=>K(e,!0))):K(e)}function de(e,t){const[n,r]=se(e,t);function a(){r.value.onBlur()}function l(t){const n=yt(t);D((0,me.BA)(e),n,!1),r.value.onInput()}function o(t){const n=yt(t);D((0,me.BA)(e),n,!1),r.value.onChange()}return(0,i.EW)((()=>Object.assign(Object.assign({},r.value),{onBlur:a,onInput:l,onChange:o,value:n.value})))}function ce(e,t){const[n,r]=se(e,t),a=B((0,me.BA)(e));function l(e){n.value=e}return(0,i.EW)((()=>{const e=ge(t)?t(vt(a,on)):t||{};return Object.assign({[e.model||"modelValue"]:n.value,[`onUpdate:${e.model||"modelValue"}`]:l},r.value)}))}return(0,i.sV)((()=>{(null===e||void 0===e?void 0:e.initialErrors)&&h(e.initialErrors),(null===e||void 0===e?void 0:e.initialTouched)&&G(e.initialTouched),(null===e||void 0===e?void 0:e.validateOnMount)?te():U.validateSchema&&U.validateSchema("silent")})),(0,me.i9)(_)&&(0,i.wB)(_,(()=>{var e;null===(e=U.validateSchema)||void 0===e||e.call(U,"validated-only")})),(0,i.Gt)(Be,U),Object.assign(Object.assign({},U),{values:(0,me.tB)(u),handleReset:()=>ee(),submitForm:oe})}function dn(e,t,n,r){const a={touched:"some",pending:"some",valid:"every"},l=(0,i.EW)((()=>!Je(t,(0,me.R1)(n))));function o(){const t=e.value;return it(a).reduce(((e,n)=>{const r=a[n];return e[n]=t[r]((e=>e[n])),e}),{})}const s=(0,me.Kh)(o());return(0,i.nT)((()=>{const e=o();s.touched=e.touched,s.valid=e.valid,s.pending=e.pending})),(0,i.EW)((()=>Object.assign(Object.assign({initialValues:(0,me.R1)(n)},s),{valid:s.valid&&!it(r.value).length,dirty:l.value})))}function cn(e,t,n){const r=sn(n),i=(0,me.KR)(r),a=(0,me.KR)(Se(r));function l(n,r){(null===r||void 0===r?void 0:r.force)?(i.value=Se(n),a.value=Se(n)):(i.value=xe(Se(i.value)||{},Se(n)),a.value=xe(Se(a.value)||{},Se(n))),(null===r||void 0===r?void 0:r.updateFields)&&e.value.forEach((e=>{const n=e.touched;if(n)return;const r=et(i.value,e.path);tt(t,e.path,Se(r))}))}return{initialValues:i,originalInitialValues:a,setInitialValues:l}}function vn(e,t){return t?{valid:e.valid&&t.valid,errors:[...e.errors,...t.errors]}:e}const fn=(0,i.pM)({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=(0,me.lW)(e,"validationSchema"),r=(0,me.lW)(e,"keepValues"),{errors:a,errorBag:l,values:o,meta:s,isSubmitting:u,isValidating:d,submitCount:c,controlledValues:v,validate:f,validateField:p,handleReset:h,resetForm:m,handleSubmit:g,setErrors:y,setFieldError:b,setFieldValue:A,setValues:O,setFieldTouched:$,setTouched:k,resetField:V}=un({validationSchema:n.value?n:void 0,initialValues:e.initialValues,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:r}),x=g(((e,{evt:t})=>{Xe(t)&&t.target.submit()}),e.onInvalidSubmit),j=e.onSubmit?g(e.onSubmit,e.onInvalidSubmit):x;function _(e){Ye(e)&&e.preventDefault(),h(),"function"===typeof t.attrs.onReset&&t.attrs.onReset()}function E(t,n){const r="function"!==typeof t||n?n:t;return g(r,e.onInvalidSubmit)(t)}function w(){return Se(o)}function C(){return Se(s.value)}function F(){return Se(a.value)}function S(){return{meta:s.value,errors:a.value,errorBag:l.value,values:o,isSubmitting:u.value,isValidating:d.value,submitCount:c.value,controlledValues:v.value,validate:f,validateField:p,handleSubmit:E,handleReset:h,submitForm:x,setErrors:y,setFieldError:b,setFieldValue:A,setValues:O,setFieldTouched:$,setTouched:k,resetForm:m,resetField:V,getValues:w,getMeta:C,getErrors:F}}return t.expose({setFieldError:b,setErrors:y,setFieldValue:A,setValues:O,setFieldTouched:$,setTouched:k,resetForm:m,validate:f,validateField:p,resetField:V,getValues:w,getMeta:C,getErrors:F,values:o,meta:s,errors:a}),function(){const n="form"===e.as?e.as:e.as?(0,i.$y)(e.as):null,r=pt(n,t,S);if(!n)return r;const a="form"===n?{novalidate:!0}:{};return(0,i.h)(n,Object.assign(Object.assign(Object.assign({},a),t.attrs),{onSubmit:j,onReset:_}),r)}}}),pn=fn;const hn=(0,i.pM)({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=(0,i.WQ)(Be,void 0),r=(0,i.EW)((()=>null===n||void 0===n?void 0:n.errors.value[e.name]));function a(){return{message:r.value}}return()=>{if(!r.value)return;const n=e.as?(0,i.$y)(e.as):e.as,l=pt(n,t,a),o=Object.assign({role:"alert"},t.attrs);return n||!Array.isArray(l)&&l||!(null===l||void 0===l?void 0:l.length)?!Array.isArray(l)&&l||(null===l||void 0===l?void 0:l.length)?(0,i.h)(n,o,l):(0,i.h)(n||"span",o,r.value):l}}}),mn=hn;
/**
  * vee-validate v4.13.2
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */
function gn(e){return"function"===typeof e}function yn(e){return"object"===typeof e&&null!==e}function bn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function An(e){if(!yn(e)||"[object Object]"!==bn(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;while(null!==Object.getPrototypeOf(t))t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function On(e,t){return Object.keys(t).forEach((n=>{if(An(t[n])&&An(e[n]))return e[n]||(e[n]={}),void On(e[n],t[n]);e[n]=t[n]})),e}function $n(e,t,n){const{prefix:r,suffix:i}=n,a=new RegExp(`([0-9]:)?${r}([^${i}]+)${i}`,"g");return e.replace(a,(function(e,n,a){if(!n||!t.params)return a in t?t[a]:t.params&&a in t.params?t.params[a]:`${r}${a}${i}`;if(!Array.isArray(t.params))return a in t.params?t.params[a]:`${r}${a}${i}`;const l=Number(n.replace(":",""));return l in t.params?t.params[l]:`${n}${r}${a}${i}`}))}class kn{constructor(e,t,n={prefix:"{",suffix:"}"}){this.container={},this.locale=e,this.interpolateOptions=n,this.merge(t)}resolve(e,t){return this.format(this.locale,e,t)}getLocaleDefault(e,t){var n,r,i,a,l;return(null===(i=null===(r=null===(n=this.container[e])||void 0===n?void 0:n.fields)||void 0===r?void 0:r[t])||void 0===i?void 0:i._default)||(null===(l=null===(a=this.container[e])||void 0===a?void 0:a.messages)||void 0===l?void 0:l._default)}resolveLabel(e,t,n){var r,i,a,l;return n?(null===(i=null===(r=this.container[e])||void 0===r?void 0:r.names)||void 0===i?void 0:i[n])||n:(null===(l=null===(a=this.container[e])||void 0===a?void 0:a.names)||void 0===l?void 0:l[t])||t}format(e,t,n){var r,i,a,l,o;let s;const{rule:u,form:d,label:c,name:v}=t,f=this.resolveLabel(e,v,c);return u?(s=(null===(a=null===(i=null===(r=this.container[e])||void 0===r?void 0:r.fields)||void 0===i?void 0:i[v])||void 0===a?void 0:a[u.name])||(null===(o=null===(l=this.container[e])||void 0===l?void 0:l.messages)||void 0===o?void 0:o[u.name]),s||(s=this.getLocaleDefault(e,v)||`${f} is not valid`),gn(s)?s(t):$n(s,Object.assign(Object.assign({},d),{field:f,params:u.params}),null!==n&&void 0!==n?n:this.interpolateOptions)):(s=this.getLocaleDefault(e,v)||`${f} is not valid`,gn(s)?s(t):$n(s,Object.assign(Object.assign({},d),{field:f}),null!==n&&void 0!==n?n:this.interpolateOptions))}merge(e){On(this.container,e)}}const Vn=new kn("en",{});function xn(e,t,n){const r=e=>Vn.resolve(e,n);return"string"===typeof e?(Vn.locale=e,t&&Vn.merge({[e]:t}),r):(Vn.merge(e),r)}function jn(e){Vn.locale=e}var _n=JSON.parse('{"code":"zh_TW","messages":{"_default":"{field} 的值無效","alpha":"{field} 須以英文組成","alpha_dash":"{field} 須以英數、破折號及底線組成","alpha_num":"{field} 須以英數組成","alpha_spaces":"{field} 須以英文及空格組成","between":"{field} 須介於 0:{min} 至 1:{max}之間","confirmed":" {field} 不一致","digits":"{field} 須為 0:{length} 位數字","dimensions":"{field} 圖片尺寸不正確。須為 0:{width} x 1:{height} 像素","email":"{field} 須為有效的電子信箱","not_one_of":"{field} 的選項無效","ext":"{field} 須為有效的檔案","image":"{field} 須為圖片","one_of":"{field} 的選項無效","integer":"{field} 須為整數","length":"{field} 的長度須為 0:{length}","max":"{field} 不能大於 0:{length} 個字元","max_value":"{field} 不得大於 0:{max}","mimes":"{field} 須為有效的檔案類型","min":"{field} 不能小於 0:{length} 個字元","min_value":"{field} 不得小於 0:{min}","numeric":"{field} 須為數字","regex":"{field} 的格式錯誤","required":"{field} 為必填","required_if":"{field} 為必填","size":"{field} 的檔案須小於 0:{size}KB","url":"{field} 須為有效的URL"}}');n(4603),n(7566),n(8721);
/**
  * vee-validate v4.13.2
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */
const En={en:/^[A-Z]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[A-ZÆØÅ]*$/i,de:/^[A-ZÄÖÜß]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[A-Z\xC0-\xFF]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ]*$/i,nl:/^[A-ZÉËÏÓÖÜ]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[А-ЯЁ]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[A-ZČĆŽŠĐ]*$/i,sv:/^[A-ZÅÄÖ]*$/i,tr:/^[A-ZÇĞİıÖŞÜ]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[A-ZÇƏĞİıÖŞÜ]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ]*$/i},wn={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},Cn={en:/^[0-9A-Z]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[0-9A-ZÆØÅ]$/i,de:/^[0-9A-ZÄÖÜß]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ]*$/i,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[0-9A-Z\xC0-\xFF]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[0-9А-ЯЁ]*$/i,kz:/^[0-9А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[0-9A-ZČĆŽŠĐ]*$/i,sv:/^[0-9A-ZÅÄÖ]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ]*$/i,ug:/^[0-9A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ]*$/i},Fn={en:/^[0-9A-Z_-]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ_-]*$/i,da:/^[0-9A-ZÆØÅ_-]*$/i,de:/^[0-9A-ZÄÖÜß_-]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ_-]*$/i,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ_-]*$/i,it:/^[0-9A-Z\xC0-\xFF_-]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ_-]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ_-]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ_-]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ_-]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ_-]*$/i,ru:/^[0-9А-ЯЁ_-]*$/i,kz:/^[0-9А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA_-]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ_-]*$/i,sr:/^[0-9A-ZČĆŽŠĐ_-]*$/i,sv:/^[0-9A-ZÅÄÖ_-]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ_-]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ_-]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ_-]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ_-]*$/i,ug:/^[0-9A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ_-]*$/i},Sn=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Bn(e,t){return Array.isArray(e)?e[0]:e[t]}function Ln(e){return null===e||void 0===e||""===e||!(!Array.isArray(e)||0!==e.length)}const In=(e,t)=>{if(Ln(e))return!0;const n=Sn(t);if(Array.isArray(e))return e.every((e=>In(e,{locale:n})));const r=String(e);return n?(En[n]||En.en).test(r):Object.keys(En).some((e=>En[e].test(r)))},Mn=(e,t)=>{if(Ln(e))return!0;const n=Sn(t);if(Array.isArray(e))return e.every((e=>Mn(e,{locale:n})));const r=String(e);return n?(Fn[n]||Fn.en).test(r):Object.keys(Fn).some((e=>Fn[e].test(r)))},Zn=(e,t)=>{if(Ln(e))return!0;const n=Sn(t);if(Array.isArray(e))return e.every((e=>Zn(e,{locale:n})));const r=String(e);return n?(Cn[n]||Cn.en).test(r):Object.keys(Cn).some((e=>Cn[e].test(r)))},Rn=(e,t)=>{if(Ln(e))return!0;const n=Sn(t);if(Array.isArray(e))return e.every((e=>Rn(e,{locale:n})));const r=String(e);return n?(wn[n]||wn.en).test(r):Object.keys(wn).some((e=>wn[e].test(r)))};function Wn(e){return Array.isArray(e)?{min:e[0],max:e[1]}:e}const Nn=(e,t)=>{if(Ln(e))return!0;const{min:n,max:r}=Wn(t);if(Array.isArray(e))return e.every((e=>Nn(e,{min:n,max:r})));const i=Number(e);return Number(n)<=i&&Number(r)>=i},Pn=(e,t)=>{const n=Bn(t,"target");return String(e)===String(n)},Tn=(e,t)=>{if(Ln(e))return!0;const n=Bn(t,"length");if(Array.isArray(e))return e.every((e=>Tn(e,{length:n})));const r=String(e);return/^[0-9]*$/.test(r)&&r.length===Number(n)},Un=(e,t,n)=>{const r=window.URL||window.webkitURL;return new Promise((i=>{const a=new Image;a.onerror=()=>i(!1),a.onload=()=>i(a.width===t&&a.height===n),a.src=r.createObjectURL(e)}))};function Dn(e){return e?Array.isArray(e)?{width:Number(e[0]),height:Number(e[1])}:{width:Number(e.width),height:Number(e.height)}:{width:0,height:0}}const qn=(e,t)=>{if(Ln(e))return!0;const{width:n,height:r}=Dn(t),i=[],a=Array.isArray(e)?e:[e];for(let l=0;l<a.length;l++){if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(a[l].name))return Promise.resolve(!1);i.push(a[l])}return Promise.all(i.map((e=>Un(e,n,r)))).then((e=>e.every((e=>e))))},zn=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Kn=e=>!!Ln(e)||(Array.isArray(e)?e.every((e=>zn.test(String(e)))):zn.test(String(e))),Xn=(e,t)=>{if(Ln(e))return!0;const n=new RegExp(`\\.(${t.join("|")})$`,"i");return Array.isArray(e)?e.every((e=>n.test(e.name))):n.test(e.name)},Yn=e=>{if(Ln(e))return!0;const t=/\.(jpg|svg|jpeg|png|bmp|gif|webp)$/i;return Array.isArray(e)?e.every((e=>t.test(e.name))):t.test(e.name)},Qn=e=>!!Ln(e)||(Array.isArray(e)?e.every((e=>/^-?[0-9]+$/.test(String(e)))):/^-?[0-9]+$/.test(String(e))),Jn=(e,t)=>{const n=Bn(t,"other");return e===n},Gn=(e,t)=>{const n=Bn(t,"other");return e!==n},Hn=(e,t)=>{if(Ln(e))return!0;const n=Bn(t,"length");return"number"===typeof e&&(e=String(e)),e.length||(e=Array.from(e)),e.length===Number(n)},er=(e,t)=>{if(Ln(e))return!0;const n=Bn(t,"length");return Array.isArray(e)?e.every((e=>er(e,{length:n}))):[...String(e)].length<=Number(n)},tr=(e,t)=>{if(Ln(e))return!0;const n=Bn(t,"max");return Array.isArray(e)?e.length>0&&e.every((e=>tr(e,{max:n}))):Number(e)<=Number(n)},nr=/\+(.+)?/;function rr(e){let t=e;return nr.test(e)&&(t=e.replace(nr,"(\\+$1)?")),new RegExp(t.replace("*",".+"),"i")}const ir=(e,t)=>{if(Ln(e))return!0;t||(t=[]);const n=t.map(rr);return Array.isArray(e)?e.every((e=>n.some((t=>t.test(e.type))))):n.some((t=>t.test(e.type)))},ar=(e,t)=>{if(Ln(e))return!0;const n=Bn(t,"length");return Array.isArray(e)?e.every((e=>ar(e,{length:n}))):[...String(e)].length>=Number(n)},lr=(e,t)=>{if(Ln(e))return!0;const n=Bn(t,"min");return Array.isArray(e)?e.length>0&&e.every((e=>lr(e,{min:n}))):Number(e)>=Number(n)},or=(e,t)=>!!Ln(e)||(Array.isArray(e)?e.every((e=>or(e,t))):Array.from(t).some((t=>t==e))),sr=(e,t)=>!!Ln(e)||!or(e,t),ur=/^[٠١٢٣٤٥٦٧٨٩]+$/,dr=/^[0-9]+$/,cr=e=>{if(Ln(e))return!0;const t=e=>{const t=String(e);return dr.test(t)||ur.test(t)};return Array.isArray(e)?e.every(t):t(e)},vr=(e,t)=>{if(Ln(e))return!0;let n=Bn(t,"regex");return"string"===typeof n&&(n=new RegExp(n)),Array.isArray(e)?e.every((e=>vr(e,{regex:n}))):n.test(String(e))};function fr(e){return null===e||void 0===e}function pr(e){return Array.isArray(e)&&0===e.length}const hr=e=>null!==e&&!!e&&"object"===typeof e&&!Array.isArray(e),mr=e=>!fr(e)&&!pr(e)&&!1!==e&&!!String(e).trim().length,gr=(e,t)=>{if(Ln(e))return!0;let n=Bn(t,"size");if(n=Number(n),isNaN(n))return!1;const r=1024*n;if(!Array.isArray(e))return e.size<=r;for(let i=0;i<e.length;i++)if(e[i].size>r)return!1;return!0},yr=(e,t)=>{var n;if(Ln(e))return!0;let r=Bn(t,"pattern");"string"===typeof r&&(r=new RegExp(r));try{new URL(e)}catch(i){return!1}return null===(n=null===r||void 0===r?void 0:r.test(e))||void 0===n||n};function br(e){return Object.keys(e)}function Ar(e){const t={__type:"VVTypedSchema",async parse(t){if("string"===typeof e){const n=await Ct(t,e);return{errors:[{errors:n.errors}]}}const n=await Wt(e,t);return{errors:br(n.errors).map((e=>{var t;const r={path:e,errors:(null===(t=n.results[e])||void 0===t?void 0:t.errors)||[]};return r}))}},describe(t){return t?hr(e)&&t in e?Or(e[t]):{required:!1,exists:!1}:Or(e)}};return t}function Or(e){return"string"===typeof e?{exists:!0,required:e.includes("required")}:hr(e)?{exists:!0,required:!!e.required}:{required:!1,exists:!0}}const $r={alpha_dash:Mn,alpha_num:Zn,alpha_spaces:Rn,alpha:In,between:Nn,confirmed:Pn,digits:Tn,dimensions:qn,email:Kn,ext:Xn,image:Yn,integer:Qn,is_not:Gn,is:Jn,length:Hn,max_value:tr,max:er,mimes:ir,min_value:lr,min:ar,not_one_of:sr,numeric:cr,one_of:or,regex:vr,required:mr,size:gr,url:yr};Object.keys(r).forEach((e=>{"all"!==e&&Ee(e,r[e])})),wt({generateMessage:xn({zh_TW:_n}),validateOnInput:!0}),jn("zh_TW");var kr={data(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""}}},inject:["emitter"],components:{Field:an,Form:pn,ErrorMessage:mn},methods:{createOrder(){const e="https://vue3-course-api.hexschool.io/v2/api/fresh_box-api/order";this.$http.post(e,{data:this.form}).then((e=>{this.emitter.emit("clearCart"),this.$router.push(`/order/${e.data.orderId}`)})).catch((e=>{this.$pushMsg.status404(e.response,"建立訂單失敗")}))}}},Vr=n(1241);const xr=(0,Vr.A)(kr,[["render",he]]);var jr=xr,_r=n(3985),Er={data(){return{isLoading:!1,carts:[],status:{addLoadingItem:"",delLoadingItem:"",updateLoadingItem:"",submit:!1},couponOption:["10%off"],couponCode:"",shippingFee:290,used_coupon:!1,allCartItems:!1,currentWidth:300}},inject:["emitter"],components:{RecipientForm:jr,delModal:_r.A},methods:{getCart(){const e="https://vue3-course-api.hexschool.io/v2/api/fresh_box-api/cart";this.$http.get(e).then((e=>{this.carts=e.data.data.carts,this.getshippingFee(),this.carts.forEach((e=>{0===e.qty&&this.delItem(e)}))})).catch((e=>{this.$pushMsg.status404(e.response,"取得購物車資料失敗")})).finally((()=>{this.isLoading=!1}))},delItem(e){const t=`https://vue3-course-api.hexschool.io/v2/api/fresh_box-api/cart/${e.id}`;this.$http.delete(t).then((()=>{this.$pushMsg.status200("刪除商品成功"),this.getCart(),this.emitter.emit("updateProductInCart")})).catch((e=>{this.$pushMsg.status404(e.response,"刪除失敗")}))},addOneToCart(e){const t={product_id:e.product.id,qty:1},n="https://vue3-course-api.hexschool.io/v2/api/fresh_box-api/cart";this.status.addLoadingItem=e.id,this.$http.post(n,{data:t}).then((()=>{this.$pushMsg.status200("已加入購物車"),this.getCart(),this.emitter.emit("updateProductInCart")})).catch((e=>{this.$pushMsg.status404(e.response,"加入購物車失敗")})).finally((()=>{this.status.addLoadingItem="",this.couponCode="",this.used_coupon=!1}))},delOneQty(e){const t=e.qty-1,n={product_id:e.product.id,qty:t},r=`https://vue3-course-api.hexschool.io/v2/api/fresh_box-api/cart/${e.id}`;this.status.delLoadingItem=e.id,this.$http.put(r,{data:n}).then((()=>{this.$pushMsg.status200("已刪除 1 個品項"),this.getCart(),this.emitter.emit("updateProductInCart")})).catch((e=>{this.$pushMsg.status404(e.response,"刪除失敗")})).finally((()=>{this.status.delLoadingItem=""}))},updateQtyOfInput(e){e.qty<0&&(e.qty=0);const t=Number(e.qty),n=`https://vue3-course-api.hexschool.io/v2/api/fresh_box-api/cart/${e.id}`;this.status.updateLoadingItem=e.id,this.$http.put(n,{data:{product_id:e.product.id,qty:t}}).then((()=>{this.$pushMsg.status200("已更新數量"),this.getCart(),this.emitter.emit("updateProductInCart")})).catch((e=>{this.$pushMsg.status404(e.response,"更新數量失敗")})).finally((()=>{this.status.updateLoadingItem=""}))},useCoupon(){const e="https://vue3-course-api.hexschool.io/v2/api/fresh_box-api/coupon";this.status.submit=!0,this.$http.post(e,{data:{code:this.couponCode}}).then((e=>{this.used_coupon=!0,this.$pushMsg.status200(e.data.message),this.getCart(),this.emitter.emit("updateProductInCart")})).catch((e=>{this.$pushMsg.status404(e.response,"套用優惠券失敗")})).finally((()=>{this.status.submit=!1}))},getshippingFee(){!this.couponCode&&this.subtotal>=1e3&&(this.shippingFee=0),!this.couponCode&&this.subtotal<1e3&&(this.shippingFee=290),this.couponCode&&this.subtotal-this.discount>=1e3&&(this.shippingFee=0),this.couponCode&&this.subtotal-this.discount<1e3&&(this.shippingFee=290)},openDelModal(){this.allCartItems=!0,this.$refs.delModal.showModal()},cleanCart(){const e="https://vue3-course-api.hexschool.io/v2/api/fresh_box-api/carts";this.$http.delete(e).then((()=>{this.$refs.delModal.hideModal(),this.$pushMsg.status200("已清空購物車"),this.getCart(),this.emitter.emit("updateProductInCart")})).catch((e=>{this.allCartItems=!1,this.$pushMsg.status404(e.response,"清空購物車失敗")}))},getCurrentWidth(){this.currentWidth=window.outerWidth},showPrice(e){return e.product.origin_price===e.product.price?e.product.origin_price:e.product.price}},computed:{subtotal(){let e=0;return this.carts.forEach((t=>{e+=t.total})),e},discount(){return this.subtotal-this.afterDiscount},afterDiscount(){let e=0;return this.carts.forEach((t=>{e+=t.final_total})),Math.round(e)},paymentAmount(){let e=0;return e=this.couponCode?this.afterDiscount+this.shippingFee:this.subtotal+this.shippingFee,e}},created(){this.isLoading=!0,this.getCart(),this.getCurrentWidth()}};const wr=(0,Vr.A)(Er,[["render",ne],["__scopeId","data-v-15390c4c"]]);var Cr=wr},7979:function(e,t,n){var r=n(8551);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},9479:function(e,t,n){var r=n(4576),i=n(3724),a=n(2106),l=n(7979),o=n(9039),s=r.RegExp,u=s.prototype,d=i&&o((function(){var e=!0;try{s(".","d")}catch(d){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var l in e&&(a.hasIndices="d"),a)i(l,a[l]);var o=Object.getOwnPropertyDescriptor(u,"flags").get.call(t);return o!==r||n!==r}));d&&a(u,"flags",{configurable:!0,get:l})}}]);
//# sourceMappingURL=791.01e09456.js.map